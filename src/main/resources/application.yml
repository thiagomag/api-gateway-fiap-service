server:
  port: 8080

spring:
  application:
    name: api-gateway-fiap-service
  cloud:
    gateway:
      server:
        webflux:
          routes:
            - id: auth_service_route
              uri: ${AUTH_SERVICE_PATH:http://localhost:8081}
              predicates:
                        - Path=/api/auth/**
              filters:
                        - RewritePath=/api/auth/(?<remaining>.*), /${remaining}

            - id: notificacao_service_route
              uri: ${NOTIFICACAO_SERVICE_PATH:http://localhost:8083}
              predicates:
                        - Path=/api/notificacao/**
              filters:
                        - RewritePath=/api/notificacao/(?<remaining>.*), /${remaining}
            - id: cadastro_medicamentos_service_route
              uri: ${CADASTRO_MEDICAMENTOS_SERVICE_PATH:http://localhost:8082}
              predicates:
                - Path=/api/medicamento/**
              filters:
                - RewritePath=/api/medicamento/(?<remaining>.*), /${remaining}

jwt:
  secret: 4Z^XrroxR@dWxqf$mTTKwW$!@#qGr4PT

api:
  keys:
    validApiKeys:
      - RXN0YSDDqSBhIGFwaS1rZXkgZG8gY2FkYXN0cm8tdXN1YXJpb3Mtc2VydmljZQ==
      - RXN0YSDDqSBhIGFwaS1rZXkgZG8gYXR1dGVudGljYcOnw6NvLXNlcnZpY2U=

logging:
  level:
    root: INFO
    com.geradortestes.apigateway: DEBUG
    org.springframework.cloud.gateway: DEBUG
    io.jsonwebtoken: INFO